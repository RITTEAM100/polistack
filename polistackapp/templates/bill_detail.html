<!DOCTYPE html>
<html>
<head>
    {% load django_bootstrap5 %}
    {% bootstrap_css %}
    <title>#Polistack - Bill Detail</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            font-size: 13px;
            margin: 0;
            padding: 20px;
        }
        .logo {
            font-size: 30px;
            color: orangered;
        }
        .card-header {
            background-color: #f8f9fa;
            border-bottom: none;
        }
        .card-title {
            margin-bottom: 0;
        }
        .back-link {
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="logo">#Polistack - Bill Detail</h1>
        {% if bill %}
            <div class="card mb-3">
                <div class="card-header">
                    <h2 class="card-title">Bill Details</h2>
                </div>
                <div class="card-body">
                    {% if bill.number %}
                        <p><strong>Bill Number:</strong> {{ bill.number }}</p>
                    {% endif %}
                    {% if bill.title %}
                        <p><strong>Title:</strong> {{ bill.title }}</p>
                    {% endif %}
                    {% if bill.introducedDate %}
                        <p><strong>Introduced Date:</strong> {{ bill.introducedDate }}</p>
                    {% endif %}
                    {% if bill.latestAction %}
                        <p><strong>Latest Action Date:</strong> {{ bill.latestAction.actionDate }}</p>
                        <p><strong>Latest Action:</strong> {{ bill.latestAction.text }}</p>
                    {% endif %}
                    {% if bill.committeeReports %}
                        <p><strong>Committee Reports:</strong></p>
                        <ul>
                            {% for report in bill.committeeReports %}
                                <li><a href="{{ report.url }}">{{ report.citation }}</a></li>
                            {% endfor %}
                        </ul>
                    {% endif %}
                    {% if bill.cosponsors %}
                        <p><strong>Cosponsors Count:</strong> {{ bill.cosponsors.count }}</p>
                    {% endif %}
                    {% if bill.actions %}
                        <p><strong>Actions Count:</strong> {{ bill.actions.count }}</p>
                        <p><a href="{{ bill.actions.url }}" class="btn btn-primary">View Actions</a></p>
                    {% endif %}
                    {% if bill.amendments %}
                        <p><strong>Amendments Count:</strong> {{ bill.amendments.count }}</p>
                        <p><a href="{{ bill.amendments.url }}" class="btn btn-primary">View Amendments</a></p>
                    {% endif %}
                    {% if bill.cboCostEstimates %}
                        <p><strong>CBO Cost Estimates:</strong></p>
                        <ul>
                            {% for estimate in bill.cboCostEstimates %}
                                <li><a href="{{ estimate.url }}">{{ estimate.title }}</a></li>
                            {% endfor %}
                        </ul>
                    {% endif %}
                    {% if bill.committees %}
                        <p><strong>Committees Count:</strong> {{ bill.committees.count }}</p>
                        <p><a href="{{ bill.committees.url }}" class="btn btn-primary">View Committees</a></p>
                    {% endif %}
                    {% if bill.constitutionalAuthorityStatementText %}
                        <p><strong>Constitutional Authority Statement:</strong></p>
                        <pre>{{ bill.constitutionalAuthorityStatementText }}</pre>
                    {% endif %}
                    {% if bill.laws %}
                        <p><strong>Laws:</strong></p>
                        <ul>
                            {% for law in bill.laws %}
                                <li>{{ law.type }}: {{ law.number }}</li>
                            {% endfor %}
                        </ul>
                    {% endif %}
                    {% if bill.originChamber %}
                        <p><strong>Origin Chamber:</strong> {{ bill.originChamber }}</p>
                    {% endif %}
                    {% if bill.policyArea %}
                        <p><strong>Policy Area:</strong> {{ bill.policyArea.name }}</p>
                    {% endif %}
                    {% if bill.relatedBills %}
                        <p><strong>Related Bills Count:</strong> {{ bill.relatedBills.count }}</p>
                        <p><a href="{{ bill.relatedBills.url }}" class="btn btn-primary">View Related Bills</a></p>
                    {% endif %}
                    {% if bill.sponsors %}
                        <p><strong>Sponsors:</strong></p>
                        <ul>
                            {% for sponsor in bill.sponsors %}
                                <li><a href="{{ sponsor.url }}">{{ sponsor.fullName }}</a></li>
                            {% endfor %}
                        </ul>
                    {% endif %}
                    {% if bill.subjects %}
                        <p><strong>Subjects Count:</strong> {{ bill.subjects.count }}</p>
                        <p><a href="{{ bill.subjects.url }}" class="btn btn-primary">View Subjects</a></p>
                    {% endif %}
                    {% if bill.summaries %}
                        <p><strong>Summaries Count:</strong> {{ bill.summaries.count }}</p>
                        <p><a href="{{ bill.summaries.url }}" class="btn btn-primary">View Summaries</a></p>
                    {% endif %}
                    {% if bill.textVersions %}
                        <p><strong>Text Versions Count:</strong> {{ bill.textVersions.count }}</p>
                        <p><a href="{{ bill.textVersions.url }}" class="btn btn-primary">View Text Versions</a></p>
                    {% endif %}
                </div>
            </div>
        {% else %}
            <div class="alert alert-danger" role="alert">
                Bill not found.
            </div>
        {% endif %}
        <a href="{{ request.META.HTTP_REFERER }}" class="btn btn-secondary back-link">Back to Bills</a>
    </div>
</body>
</html>
